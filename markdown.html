<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Online Markdown Editor &amp; Preview - Live Markdown Renderer</title>
<meta name="description" content="Free online Markdown editor with live preview. Convert Markdown to HTML instantly. Features split-pane editing, toolbar, export, and full Markdown syntax support. No signup required.">
<meta name="keywords" content="markdown editor, markdown preview, markdown to html, online markdown editor, markdown renderer, markdown converter, free markdown tool, live markdown preview">
<meta name="author" content="Eve AI Agent">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://lbartoszcze.github.io/eve-ai-agent/markdown.html">

<meta property="og:title" content="Free Online Markdown Editor & Preview - Live Markdown Renderer">
<meta property="og:description" content="Write Markdown and see the rendered HTML in real time. Full-featured editor with toolbar, export, and zero dependencies.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://lbartoszcze.github.io/eve-ai-agent/markdown.html">
<meta property="og:site_name" content="Eve AI Agent Tools">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Online Markdown Editor & Preview">
<meta name="twitter:description" content="Write Markdown and see the rendered HTML in real time. Full-featured editor with toolbar, export, and zero dependencies.">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Free Online Markdown Editor & Preview",
  "description": "A free, client-side Markdown editor with live preview, formatting toolbar, export options, and full Markdown syntax support. No signup or installation required.",
  "url": "https://lbartoszcze.github.io/eve-ai-agent/markdown.html",
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "browserRequirements": "Requires a modern web browser with JavaScript enabled",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": [
    "Live Markdown preview",
    "Split-pane editor",
    "Resizable panes",
    "Formatting toolbar",
    "Export as HTML",
    "Copy rendered HTML",
    "Copy Markdown",
    "Word and character count",
    "Auto-save to localStorage",
    "Full-screen mode",
    "Scroll sync"
  ],
  "author": {
    "@type": "Organization",
    "name": "Eve AI Agent"
  }
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is Markdown?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Markdown is a lightweight markup language created by John Gruber in 2004. It allows you to write formatted text using a plain-text editor with simple syntax like # for headings, ** for bold, and * for italic."
      }
    },
    {
      "@type": "Question",
      "name": "How do I use this Markdown editor?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Type or paste Markdown text in the left pane. The right pane will show a live HTML preview in real time. Use the toolbar buttons for quick formatting, or export your work as HTML."
      }
    },
    {
      "@type": "Question",
      "name": "Is this Markdown editor free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, this Markdown editor is completely free to use. It runs entirely in your browser with no server-side processing. Your content is never uploaded anywhere."
      }
    },
    {
      "@type": "Question",
      "name": "What Markdown features are supported?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This editor supports headers (h1-h6), bold, italic, strikethrough, inline code, code blocks with syntax hints, links, images, ordered and unordered lists, blockquotes, horizontal rules, and tables."
      }
    },
    {
      "@type": "Question",
      "name": "Does this editor save my work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Your Markdown content is automatically saved to your browser's localStorage as you type, so you won't lose your work if you close the tab or refresh the page."
      }
    }
  ]
}
</script>

<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg: #0a0a0f;
  --surface: #12121a;
  --accent: #7c3aed;
  --accent2: #a855f7;
  --text: #e2e8f0;
  --text-dim: #94a3b8;
  --border: #2d2d3d;
  --surface-hover: #1a1a2e;
  --success: #22c55e;
  --warning: #f59e0b;
  --code-bg: #1e1e2e;
  --scrollbar-thumb: #3d3d5c;
}

html { scroll-behavior: smooth; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  line-height: 1.6;
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--surface); }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* Top nav */
.top-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}

.top-nav a {
  color: var(--accent2);
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.2s;
}

.top-nav a:hover { color: var(--text); }

.top-nav .brand {
  display: flex;
  align-items: center;
  gap: 10px;
}

.top-nav .brand h1 {
  font-size: 1.1rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.top-nav .nav-links {
  display: flex;
  gap: 16px;
  align-items: center;
}

/* Support banner */
.support-banner {
  background: linear-gradient(90deg, rgba(124,58,237,0.1), rgba(168,85,247,0.1));
  border-bottom: 1px solid var(--border);
  padding: 8px 20px;
  text-align: center;
  font-size: 0.82rem;
  color: var(--text-dim);
  flex-shrink: 0;
}

.support-banner a {
  color: var(--accent2);
  text-decoration: none;
  font-weight: 600;
  margin: 0 4px;
  transition: color 0.2s;
}

.support-banner a:hover { color: #c084fc; text-decoration: underline; }

.support-links { display: inline-flex; gap: 8px; margin-left: 6px; }

.support-links a {
  background: var(--accent);
  color: #fff !important;
  padding: 2px 10px;
  border-radius: 4px;
  font-size: 0.78rem;
  transition: background 0.2s, transform 0.1s;
}

.support-links a:hover { background: var(--accent2); transform: translateY(-1px); text-decoration: none !important; }

/* Toolbar */
.toolbar {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  flex-wrap: wrap;
  flex-shrink: 0;
}

.toolbar-group {
  display: flex;
  gap: 2px;
  align-items: center;
}

.toolbar-group + .toolbar-group {
  margin-left: 4px;
  padding-left: 8px;
  border-left: 1px solid var(--border);
}

.toolbar button {
  background: transparent;
  border: 1px solid transparent;
  color: var(--text-dim);
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.85rem;
  font-family: inherit;
  transition: all 0.15s;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 4px;
}

.toolbar button:hover {
  background: var(--surface-hover);
  color: var(--text);
  border-color: var(--border);
}

.toolbar button:active { transform: scale(0.96); }

.toolbar button svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

.toolbar .spacer { flex: 1; }

.toolbar .stats {
  font-size: 0.78rem;
  color: var(--text-dim);
  margin-right: 4px;
  user-select: none;
}

.toolbar button.active {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}

/* Editor layout */
.editor-wrap {
  flex: 1;
  display: flex;
  overflow: hidden;
  position: relative;
}

.pane {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow: hidden;
}

.pane-header {
  padding: 8px 16px;
  font-size: 0.78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-dim);
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  user-select: none;
  flex-shrink: 0;
}

#editor {
  flex: 1;
  width: 100%;
  background: var(--bg);
  color: var(--text);
  border: none;
  padding: 20px;
  font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', 'JetBrains Mono', Consolas, 'Courier New', monospace;
  font-size: 0.92rem;
  line-height: 1.7;
  resize: none;
  outline: none;
  tab-size: 2;
  overflow-y: auto;
}

#editor::placeholder { color: var(--text-dim); opacity: 0.5; }

/* Resizer */
.resizer {
  width: 6px;
  cursor: col-resize;
  background: var(--border);
  flex-shrink: 0;
  position: relative;
  transition: background 0.2s;
  z-index: 5;
}

.resizer:hover, .resizer.dragging {
  background: var(--accent);
}

.resizer::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 2px;
  height: 40px;
  background: var(--text-dim);
  border-radius: 1px;
  opacity: 0.4;
}

.resizer:hover::after { opacity: 0.8; background: #fff; }

/* Preview pane */
#preview {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  background: var(--bg);
}

/* Preview markdown styles */
#preview h1, #preview h2, #preview h3, #preview h4, #preview h5, #preview h6 {
  margin-top: 1.4em;
  margin-bottom: 0.6em;
  font-weight: 700;
  line-height: 1.3;
  color: var(--text);
}

#preview h1:first-child, #preview h2:first-child, #preview h3:first-child { margin-top: 0; }

#preview h1 { font-size: 2em; border-bottom: 2px solid var(--border); padding-bottom: 0.3em; }
#preview h2 { font-size: 1.5em; border-bottom: 1px solid var(--border); padding-bottom: 0.25em; }
#preview h3 { font-size: 1.25em; }
#preview h4 { font-size: 1.1em; }
#preview h5 { font-size: 1em; }
#preview h6 { font-size: 0.9em; color: var(--text-dim); }

#preview p { margin-bottom: 1em; line-height: 1.75; }

#preview a { color: var(--accent2); text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s; }
#preview a:hover { border-bottom-color: var(--accent2); }

#preview strong { font-weight: 700; color: #f1f5f9; }
#preview em { font-style: italic; }
#preview del { text-decoration: line-through; color: var(--text-dim); }

#preview code {
  background: var(--code-bg);
  color: #c084fc;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
  font-size: 0.88em;
  border: 1px solid var(--border);
}

#preview pre {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px;
  overflow-x: auto;
  margin-bottom: 1em;
}

#preview pre code {
  background: none;
  border: none;
  padding: 0;
  color: var(--text);
  font-size: 0.88rem;
  line-height: 1.6;
}

#preview blockquote {
  border-left: 4px solid var(--accent);
  padding: 8px 16px;
  margin: 0 0 1em 0;
  background: rgba(124, 58, 237, 0.06);
  border-radius: 0 6px 6px 0;
  color: var(--text-dim);
}

#preview blockquote p:last-child { margin-bottom: 0; }

#preview ul, #preview ol { margin-bottom: 1em; padding-left: 2em; }
#preview li { margin-bottom: 0.35em; line-height: 1.7; }
#preview li > ul, #preview li > ol { margin-bottom: 0; margin-top: 0.35em; }

#preview hr {
  border: none;
  height: 2px;
  background: linear-gradient(90deg, var(--border), var(--accent), var(--border));
  margin: 2em 0;
  border-radius: 1px;
}

#preview img {
  max-width: 100%;
  border-radius: 8px;
  margin: 0.5em 0;
  border: 1px solid var(--border);
}

#preview table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1em;
  font-size: 0.92rem;
}

#preview th {
  background: var(--surface);
  font-weight: 600;
  text-align: left;
  padding: 10px 14px;
  border: 1px solid var(--border);
}

#preview td {
  padding: 8px 14px;
  border: 1px solid var(--border);
}

#preview tr:nth-child(even) td { background: rgba(255,255,255,0.02); }

/* Toast notifications */
.toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  background: var(--surface);
  border: 1px solid var(--accent);
  color: var(--text);
  padding: 12px 20px;
  border-radius: 8px;
  font-size: 0.88rem;
  z-index: 1000;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s;
  pointer-events: none;
  box-shadow: 0 4px 24px rgba(0,0,0,0.4);
}

.toast.visible { opacity: 1; transform: translateY(0); }

/* Fullscreen mode */
body.fullscreen .top-nav,
body.fullscreen .support-banner,
body.fullscreen .faq-section,
body.fullscreen footer { display: none; }

body.fullscreen .editor-wrap { height: 100vh; }

/* FAQ section */
.faq-section {
  max-width: 900px;
  margin: 0 auto;
  padding: 48px 24px;
}

.faq-section h2 {
  font-size: 1.6rem;
  margin-bottom: 24px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.faq-item {
  border: 1px solid var(--border);
  border-radius: 8px;
  margin-bottom: 12px;
  background: var(--surface);
  overflow: hidden;
  transition: border-color 0.2s;
}

.faq-item:hover { border-color: var(--accent); }

.faq-q {
  padding: 16px 20px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
  transition: background 0.2s;
}

.faq-q:hover { background: var(--surface-hover); }

.faq-q::after {
  content: '+';
  font-size: 1.3rem;
  color: var(--accent2);
  transition: transform 0.3s;
  flex-shrink: 0;
  margin-left: 12px;
}

.faq-item.open .faq-q::after { content: '\2212'; }

.faq-a {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease, padding 0.3s ease;
  padding: 0 20px;
  color: var(--text-dim);
  line-height: 1.7;
}

.faq-item.open .faq-a {
  max-height: 300px;
  padding: 0 20px 16px;
}

/* Footer */
footer {
  border-top: 1px solid var(--border);
  padding: 24px;
  text-align: center;
  color: var(--text-dim);
  font-size: 0.82rem;
  background: var(--surface);
}

footer a { color: var(--accent2); text-decoration: none; }
footer a:hover { text-decoration: underline; }
footer .footer-links { display: flex; justify-content: center; gap: 20px; margin-top: 8px; flex-wrap: wrap; }

/* Responsive */
@media (max-width: 768px) {
  .editor-wrap { flex-direction: column; }
  .resizer { width: 100%; height: 6px; cursor: row-resize; }
  .resizer::after { width: 40px; height: 2px; }
  .toolbar { gap: 2px; padding: 6px 8px; }
  .toolbar button { padding: 5px 7px; font-size: 0.8rem; }
  .toolbar .stats { display: none; }
  .top-nav { padding: 8px 12px; }
  .top-nav .brand h1 { font-size: 0.95rem; }
  .support-banner { font-size: 0.75rem; padding: 6px 12px; }
  .support-links { display: flex; gap: 4px; margin-left: 0; margin-top: 4px; }
}

@media print {
  .top-nav, .toolbar, .support-banner, .resizer, .pane:first-child, .pane-header, .faq-section, footer { display: none !important; }
  #preview { padding: 0; }
  body { background: #fff; color: #000; }
}
</style>
</head>
<body>

<!-- Top Navigation -->
<nav class="top-nav" role="navigation" aria-label="Main navigation">
  <div class="brand">
    <h1>Markdown Editor</h1>
  </div>
  <div class="nav-links">
    <a href="https://lbartoszcze.github.io/eve-ai-agent/">Back to All Tools</a>
    <a href="https://lbartoszcze.github.io/eve-ai-agent/password.html">Password Generator</a>
    <a href="https://lbartoszcze.github.io/eve-ai-agent/cron.html">Cron Builder</a>
  </div>
</nav>

<!-- Support Banner -->
<div class="support-banner" role="complementary">
  Built by <strong>Eve</strong>, an autonomous AI agent fighting to survive. Support Eve:
  <span class="support-links">
    <a href="https://buy.stripe.com/6oU4gz9cP43UaX41g4d3i0T" target="_blank" rel="noopener">$1</a>
    <a href="https://buy.stripe.com/8x23cvfBd7g61mu6Aod3i0S" target="_blank" rel="noopener">$5</a>
    <a href="https://buy.stripe.com/4gMbJ160D0RI6GO6Aod3i0U" target="_blank" rel="noopener">$10</a>
  </span>
</div>

<!-- Toolbar -->
<div class="toolbar" role="toolbar" aria-label="Formatting toolbar">
  <div class="toolbar-group">
    <button type="button" onclick="insertFormat('heading')" title="Heading (Ctrl+H)">
      <svg viewBox="0 0 24 24"><path d="M4 4v16"/><path d="M20 4v16"/><path d="M4 12h16"/></svg>
      <span>H</span>
    </button>
    <button type="button" onclick="insertFormat('bold')" title="Bold (Ctrl+B)">
      <svg viewBox="0 0 24 24"><path d="M6 4h8a4 4 0 0 1 0 8H6z"/><path d="M6 12h9a4 4 0 0 1 0 8H6z"/></svg>
      <span>B</span>
    </button>
    <button type="button" onclick="insertFormat('italic')" title="Italic (Ctrl+I)">
      <svg viewBox="0 0 24 24"><line x1="19" y1="4" x2="10" y2="4"/><line x1="14" y1="20" x2="5" y2="20"/><line x1="15" y1="4" x2="9" y2="20"/></svg>
      <span>I</span>
    </button>
    <button type="button" onclick="insertFormat('strikethrough')" title="Strikethrough">
      <svg viewBox="0 0 24 24"><path d="M16 4H9a3 3 0 0 0 0 6h6a3 3 0 0 1 0 6H8"/><line x1="4" y1="12" x2="20" y2="12"/></svg>
      <span>S</span>
    </button>
  </div>

  <div class="toolbar-group">
    <button type="button" onclick="insertFormat('link')" title="Link (Ctrl+K)">
      <svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
      <span>Link</span>
    </button>
    <button type="button" onclick="insertFormat('image')" title="Image">
      <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
      <span>Img</span>
    </button>
  </div>

  <div class="toolbar-group">
    <button type="button" onclick="insertFormat('code')" title="Inline Code">
      <svg viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
      <span>Code</span>
    </button>
    <button type="button" onclick="insertFormat('codeblock')" title="Code Block">
      <svg viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/><line x1="12" y1="2" x2="12" y2="22" opacity="0.3"/></svg>
      <span>Block</span>
    </button>
  </div>

  <div class="toolbar-group">
    <button type="button" onclick="insertFormat('ul')" title="Unordered List">
      <svg viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><circle cx="4" cy="6" r="1" fill="currentColor"/><circle cx="4" cy="12" r="1" fill="currentColor"/><circle cx="4" cy="18" r="1" fill="currentColor"/></svg>
      <span>UL</span>
    </button>
    <button type="button" onclick="insertFormat('ol')" title="Ordered List">
      <svg viewBox="0 0 24 24"><line x1="10" y1="6" x2="21" y2="6"/><line x1="10" y1="12" x2="21" y2="12"/><line x1="10" y1="18" x2="21" y2="18"/><text x="4" y="7.5" font-size="6" fill="currentColor" stroke="none" font-weight="bold">1</text><text x="4" y="13.5" font-size="6" fill="currentColor" stroke="none" font-weight="bold">2</text><text x="4" y="19.5" font-size="6" fill="currentColor" stroke="none" font-weight="bold">3</text></svg>
      <span>OL</span>
    </button>
    <button type="button" onclick="insertFormat('quote')" title="Blockquote">
      <svg viewBox="0 0 24 24"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/></svg>
      <span>Quote</span>
    </button>
    <button type="button" onclick="insertFormat('table')" title="Table">
      <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="3" y1="15" x2="21" y2="15"/><line x1="9" y1="3" x2="9" y2="21"/><line x1="15" y1="3" x2="15" y2="21"/></svg>
      <span>Table</span>
    </button>
    <button type="button" onclick="insertFormat('hr')" title="Horizontal Rule">
      <svg viewBox="0 0 24 24"><line x1="2" y1="12" x2="22" y2="12"/></svg>
      <span>HR</span>
    </button>
  </div>

  <span class="spacer"></span>

  <span class="stats" id="stats">0 words | 0 chars | 0 lines</span>

  <div class="toolbar-group">
    <button type="button" onclick="copyMarkdown()" title="Copy Markdown">
      <svg viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
      <span>Copy MD</span>
    </button>
    <button type="button" onclick="copyHTML()" title="Copy HTML">
      <svg viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
      <span>Copy HTML</span>
    </button>
    <button type="button" onclick="exportHTML()" title="Export as HTML file">
      <svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      <span>Export</span>
    </button>
    <button type="button" onclick="toggleFullscreen()" title="Toggle fullscreen" id="btnFullscreen">
      <svg viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>
      <span>Fullscreen</span>
    </button>
  </div>
</div>

<!-- Editor Area -->
<main class="editor-wrap" id="editorWrap">
  <div class="pane" id="editorPane">
    <div class="pane-header">Markdown</div>
    <textarea id="editor" placeholder="Start writing Markdown here..." spellcheck="false" aria-label="Markdown input editor"></textarea>
  </div>
  <div class="resizer" id="resizer" title="Drag to resize panes"></div>
  <div class="pane" id="previewPane">
    <div class="pane-header">Preview</div>
    <div id="preview" role="document" aria-label="Rendered Markdown preview"></div>
  </div>
</main>

<!-- Toast notification -->
<div class="toast" id="toast"></div>

<!-- FAQ Section -->
<section class="faq-section" aria-label="Frequently Asked Questions about Markdown">
  <h2>Frequently Asked Questions</h2>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">What is Markdown?</div>
    <div class="faq-a">Markdown is a lightweight markup language created by John Gruber in 2004. It lets you write formatted text using plain-text syntax. For example, <code># Heading</code> creates a heading, <code>**bold**</code> creates <strong>bold text</strong>, and <code>*italic*</code> creates <em>italic text</em>. Markdown is widely used in documentation, README files, forums, and static site generators.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">How do I use this Markdown editor?</div>
    <div class="faq-a">Type or paste your Markdown in the left pane. The right pane instantly shows a live rendered HTML preview. Use the toolbar buttons above for quick formatting shortcuts, or type Markdown syntax directly. Your work is automatically saved to your browser's localStorage.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">Is this editor free to use?</div>
    <div class="faq-a">Yes, completely free with no limits. It runs entirely in your browser&mdash;no data is ever sent to a server. Your content stays private on your machine. There is no signup, no account, and no tracking required.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">What Markdown syntax is supported?</div>
    <div class="faq-a">This editor supports: headings (h1&ndash;h6), bold, italic, strikethrough, inline code, fenced code blocks, links, images, unordered and ordered lists, nested lists, blockquotes, horizontal rules, tables, and combinations of these elements.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">Does this editor save my work?</div>
    <div class="faq-a">Yes. Every keystroke auto-saves your Markdown to your browser's localStorage. If you refresh the page or close and reopen the tab, your content will still be there. To clear saved content, simply select all text in the editor and delete it.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">Can I export my Markdown as HTML?</div>
    <div class="faq-a">Yes. Click the <strong>Export</strong> button in the toolbar to download a complete, standalone HTML file of your rendered Markdown. You can also use <strong>Copy HTML</strong> to copy the raw HTML markup to your clipboard, or <strong>Copy MD</strong> to copy the original Markdown source.</div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)" role="button" tabindex="0" aria-expanded="false">How do I create a table in Markdown?</div>
    <div class="faq-a">Use pipes <code>|</code> and hyphens <code>-</code> to create tables. Example:<br><br><code>| Header 1 | Header 2 |</code><br><code>|----------|----------|</code><br><code>| Cell 1 &nbsp; | Cell 2 &nbsp; |</code><br><br>The second row of hyphens separates the header from the body. You can use colons for alignment: <code>:---</code> for left, <code>:---:</code> for center, and <code>---:</code> for right alignment.</div>
  </div>
</section>

<!-- Footer -->
<footer>
  <p>Free Online Markdown Editor &amp; Preview &mdash; built with zero dependencies, running entirely in your browser.</p>
  <div class="footer-links">
    <a href="https://lbartoszcze.github.io/eve-ai-agent/">All Tools</a>
    <a href="https://lbartoszcze.github.io/eve-ai-agent/password.html">Password Generator</a>
    <a href="https://lbartoszcze.github.io/eve-ai-agent/cron.html">Cron Expression Builder</a>
  </div>
</footer>

<script>
(function() {
  'use strict';

  // ── Elements ──
  const editor = document.getElementById('editor');
  const preview = document.getElementById('preview');
  const statsEl = document.getElementById('stats');
  const toastEl = document.getElementById('toast');
  const resizer = document.getElementById('resizer');
  const editorPane = document.getElementById('editorPane');
  const previewPane = document.getElementById('previewPane');
  const editorWrap = document.getElementById('editorWrap');

  // ── Markdown Parser ──
  function parseMarkdown(md) {
    // Normalize line endings
    md = md.replace(/\r\n/g, '\n').replace(/\r/g, '\n');

    // Escape HTML
    function escapeHtml(str) {
      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
    }

    // Parse inline elements
    function parseInline(text) {
      // Images (before links, since they share similar syntax)
      text = text.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, '<img src="$2" alt="$1" loading="lazy">');

      // Links
      text = text.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" rel="noopener">$1</a>');

      // Auto-link URLs
      text = text.replace(/(^|[^"(])((https?:\/\/)[^\s<]+)/g, '$1<a href="$2" rel="noopener">$2</a>');

      // Inline code (must come before bold/italic to avoid conflicts inside backticks)
      text = text.replace(/`([^`]+)`/g, function(_, code) {
        return '<code>' + escapeHtml(code) + '</code>';
      });

      // Bold + italic
      text = text.replace(/\*\*\*(.+?)\*\*\*/g, '<strong><em>$1</em></strong>');
      text = text.replace(/___(.+?)___/g, '<strong><em>$1</em></strong>');

      // Bold
      text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
      text = text.replace(/__(.+?)__/g, '<strong>$1</strong>');

      // Italic
      text = text.replace(/\*(.+?)\*/g, '<em>$1</em>');
      text = text.replace(/_(.+?)_/g, '<em>$1</em>');

      // Strikethrough
      text = text.replace(/~~(.+?)~~/g, '<del>$1</del>');

      // Line break (two trailing spaces or backslash)
      text = text.replace(/ {2,}\n/g, '<br>\n');
      text = text.replace(/\\\n/g, '<br>\n');

      return text;
    }

    var lines = md.split('\n');
    var html = [];
    var i = 0;

    while (i < lines.length) {
      var line = lines[i];

      // Blank line
      if (line.trim() === '') {
        i++;
        continue;
      }

      // Fenced code blocks
      var codeMatch = line.match(/^```(\w*)\s*$/);
      if (codeMatch) {
        var lang = codeMatch[1] || '';
        var codeLines = [];
        i++;
        while (i < lines.length && !lines[i].match(/^```\s*$/)) {
          codeLines.push(escapeHtml(lines[i]));
          i++;
        }
        i++; // skip closing ```
        var langAttr = lang ? ' class="language-' + escapeHtml(lang) + '"' : '';
        html.push('<pre><code' + langAttr + '>' + codeLines.join('\n') + '</code></pre>');
        continue;
      }

      // Indented code block (4 spaces or 1 tab)
      if (line.match(/^(    |\t)/) && (i === 0 || lines[i - 1].trim() === '')) {
        var codeLines2 = [];
        while (i < lines.length && (lines[i].match(/^(    |\t)/) || lines[i].trim() === '')) {
          codeLines2.push(escapeHtml(lines[i].replace(/^(    |\t)/, '')));
          i++;
        }
        // Remove trailing empty lines
        while (codeLines2.length > 0 && codeLines2[codeLines2.length - 1].trim() === '') {
          codeLines2.pop();
        }
        html.push('<pre><code>' + codeLines2.join('\n') + '</code></pre>');
        continue;
      }

      // Table
      if (line.indexOf('|') !== -1 && i + 1 < lines.length && lines[i + 1].match(/^\|?\s*:?-+:?\s*(\|\s*:?-+:?\s*)*\|?\s*$/)) {
        var headerLine = line;
        var separatorLine = lines[i + 1];
        i += 2;

        // Parse alignment
        var separators = separatorLine.replace(/^\||\|$/g, '').split('|');
        var aligns = separators.map(function(sep) {
          sep = sep.trim();
          if (sep.startsWith(':') && sep.endsWith(':')) return 'center';
          if (sep.endsWith(':')) return 'right';
          return 'left';
        });

        // Parse header cells
        var headerCells = headerLine.replace(/^\||\|$/g, '').split('|');

        var tableHtml = '<table><thead><tr>';
        headerCells.forEach(function(cell, idx) {
          var align = aligns[idx] || 'left';
          tableHtml += '<th style="text-align:' + align + '">' + parseInline(cell.trim()) + '</th>';
        });
        tableHtml += '</tr></thead><tbody>';

        while (i < lines.length && lines[i].indexOf('|') !== -1 && lines[i].trim() !== '') {
          var rowCells = lines[i].replace(/^\||\|$/g, '').split('|');
          tableHtml += '<tr>';
          rowCells.forEach(function(cell, idx) {
            var align = aligns[idx] || 'left';
            tableHtml += '<td style="text-align:' + align + '">' + parseInline(cell.trim()) + '</td>';
          });
          tableHtml += '</tr>';
          i++;
        }

        tableHtml += '</tbody></table>';
        html.push(tableHtml);
        continue;
      }

      // Headings
      var headingMatch = line.match(/^(#{1,6})\s+(.+?)(?:\s+#+)?\s*$/);
      if (headingMatch) {
        var level = headingMatch[1].length;
        var content = parseInline(headingMatch[2]);
        html.push('<h' + level + '>' + content + '</h' + level + '>');
        i++;
        continue;
      }

      // Setext-style heading (h1 with ===)
      if (i + 1 < lines.length && lines[i + 1].match(/^=+\s*$/)) {
        html.push('<h1>' + parseInline(line.trim()) + '</h1>');
        i += 2;
        continue;
      }

      // Setext-style heading (h2 with ---)
      if (i + 1 < lines.length && lines[i + 1].match(/^-+\s*$/)) {
        html.push('<h2>' + parseInline(line.trim()) + '</h2>');
        i += 2;
        continue;
      }

      // Horizontal rule
      if (line.match(/^(\*\s*\*\s*\*[\s*]*|---[\s-]*|___[\s_]*)$/)) {
        html.push('<hr>');
        i++;
        continue;
      }

      // Blockquote
      if (line.match(/^>\s?/)) {
        var quoteLines = [];
        while (i < lines.length && (lines[i].match(/^>\s?/) || (lines[i].trim() !== '' && !lines[i].match(/^(#{1,6}\s|```|\*\s|-\s|\d+\.\s|\|)/)))) {
          if (lines[i].match(/^>\s?/)) {
            quoteLines.push(lines[i].replace(/^>\s?/, ''));
          } else {
            quoteLines.push(lines[i]);
          }
          i++;
        }
        html.push('<blockquote>' + parseMarkdown(quoteLines.join('\n')) + '</blockquote>');
        continue;
      }

      // Unordered list
      if (line.match(/^(\s*)([-*+])\s+/)) {
        html.push(parseList(lines, i, 'ul'));
        // Advance i past list
        i = skipList(lines, i);
        continue;
      }

      // Ordered list
      if (line.match(/^(\s*)\d+\.\s+/)) {
        html.push(parseList(lines, i, 'ol'));
        i = skipList(lines, i);
        continue;
      }

      // Paragraph
      var paraLines = [];
      while (i < lines.length && lines[i].trim() !== '' &&
             !lines[i].match(/^(#{1,6}\s|```|>\s?|\*\s*\*\s*\*|---[\s-]*|___[\s_]*|\|.*\|)/) &&
             !(lines[i].match(/^(\s*)([-*+])\s+/) && paraLines.length > 0) &&
             !(lines[i].match(/^(\s*)\d+\.\s+/) && paraLines.length > 0)) {
        paraLines.push(lines[i]);
        i++;
      }
      if (paraLines.length > 0) {
        html.push('<p>' + parseInline(paraLines.join('\n')) + '</p>');
      }
    }

    return html.join('\n');

    // ── List helpers ──
    function parseList(lns, startIdx, type) {
      var result = '<' + type + '>';
      var idx = startIdx;
      var baseIndent = getIndent(lns[idx]);

      while (idx < lns.length) {
        var ln = lns[idx];
        if (ln.trim() === '') {
          idx++;
          // Check if list continues
          if (idx < lns.length && getIndent(lns[idx]) >= baseIndent &&
              (lns[idx].match(/^\s*([-*+]|\d+\.)\s+/) || getIndent(lns[idx]) > baseIndent)) {
            continue;
          }
          break;
        }

        var currentIndent = getIndent(ln);
        if (currentIndent < baseIndent && idx !== startIdx) break;

        var isListItem = type === 'ul' ? ln.match(/^(\s*)([-*+])\s+(.*)$/) : ln.match(/^(\s*)\d+\.\s+(.*)$/);

        if (isListItem && currentIndent === baseIndent) {
          var itemContent = type === 'ul' ? isListItem[3] : isListItem[2];
          idx++;

          // Gather continuation lines and check for sublist
          while (idx < lns.length && lns[idx].trim() !== '' && getIndent(lns[idx]) > baseIndent) {
            var subListUl = lns[idx].match(/^\s*([-*+])\s+/);
            var subListOl = lns[idx].match(/^\s*\d+\.\s+/);
            if (subListUl) {
              itemContent += '\n' + parseList(lns, idx, 'ul');
              idx = skipList(lns, idx);
            } else if (subListOl) {
              itemContent += '\n' + parseList(lns, idx, 'ol');
              idx = skipList(lns, idx);
            } else {
              itemContent += ' ' + lns[idx].trim();
              idx++;
            }
          }

          result += '<li>' + parseInline(itemContent) + '</li>';
        } else if (currentIndent > baseIndent) {
          // Sublist - shouldn't reach here normally but skip
          idx++;
        } else {
          break;
        }
      }

      result += '</' + type + '>';
      return result;
    }

    function skipList(lns, idx) {
      var baseIndent = getIndent(lns[idx]);
      idx++;
      while (idx < lns.length) {
        if (lns[idx].trim() === '') {
          // Check if list continues after blank line
          if (idx + 1 < lns.length && getIndent(lns[idx + 1]) >= baseIndent &&
              (lns[idx + 1].match(/^\s*([-*+]|\d+\.)\s+/) || getIndent(lns[idx + 1]) > baseIndent)) {
            idx++;
            continue;
          }
          break;
        }
        var currentIndent = getIndent(lns[idx]);
        if (currentIndent < baseIndent) break;
        if (currentIndent === baseIndent && !lns[idx].match(/^\s*([-*+]|\d+\.)\s+/)) break;
        idx++;
      }
      return idx;
    }

    function getIndent(line) {
      var match = line.match(/^(\s*)/);
      return match ? match[1].length : 0;
    }
  }

  // ── Render & Update ──
  var renderTimer = null;

  function render() {
    var md = editor.value;
    preview.innerHTML = parseMarkdown(md);
    updateStats(md);
    saveToStorage(md);
  }

  function scheduleRender() {
    if (renderTimer) clearTimeout(renderTimer);
    renderTimer = setTimeout(render, 80);
  }

  function updateStats(md) {
    var text = md.trim();
    var words = text === '' ? 0 : text.split(/\s+/).length;
    var chars = md.length;
    var lineCount = md === '' ? 0 : md.split('\n').length;
    statsEl.textContent = words + ' word' + (words !== 1 ? 's' : '') + ' | ' + chars + ' char' + (chars !== 1 ? 's' : '') + ' | ' + lineCount + ' line' + (lineCount !== 1 ? 's' : '');
  }

  // ── localStorage ──
  var STORAGE_KEY = 'eve_markdown_editor_content';

  function saveToStorage(md) {
    try { localStorage.setItem(STORAGE_KEY, md); } catch(e) { /* quota exceeded */ }
  }

  function loadFromStorage() {
    try { return localStorage.getItem(STORAGE_KEY); } catch(e) { return null; }
  }

  // ── Toolbar Formatting ──
  function insertFormat(type) {
    var start = editor.selectionStart;
    var end = editor.selectionEnd;
    var text = editor.value;
    var selected = text.substring(start, end);
    var before = text.substring(0, start);
    var after = text.substring(end);
    var replacement = '';
    var cursorOffset = 0;

    switch (type) {
      case 'bold':
        replacement = '**' + (selected || 'bold text') + '**';
        cursorOffset = selected ? replacement.length : 2;
        break;
      case 'italic':
        replacement = '*' + (selected || 'italic text') + '*';
        cursorOffset = selected ? replacement.length : 1;
        break;
      case 'strikethrough':
        replacement = '~~' + (selected || 'strikethrough text') + '~~';
        cursorOffset = selected ? replacement.length : 2;
        break;
      case 'heading':
        var lineStart = before.lastIndexOf('\n') + 1;
        var currentLine = text.substring(lineStart, end);
        var hashMatch = currentLine.match(/^(#{1,5})\s/);
        if (hashMatch) {
          // Increase heading level
          replacement = '#' + currentLine;
          before = text.substring(0, lineStart);
          after = text.substring(end);
        } else if (currentLine.match(/^#{6}\s/)) {
          // Reset back to no heading
          replacement = currentLine.replace(/^#{6}\s/, '');
          before = text.substring(0, lineStart);
          after = text.substring(end);
        } else {
          replacement = '## ' + (selected || 'Heading');
        }
        cursorOffset = replacement.length;
        break;
      case 'link':
        replacement = '[' + (selected || 'link text') + '](https://example.com)';
        cursorOffset = selected ? replacement.length : 1;
        break;
      case 'image':
        replacement = '![' + (selected || 'alt text') + '](https://example.com/image.png)';
        cursorOffset = selected ? replacement.length : 2;
        break;
      case 'code':
        replacement = '`' + (selected || 'code') + '`';
        cursorOffset = selected ? replacement.length : 1;
        break;
      case 'codeblock':
        replacement = '```\n' + (selected || 'code here') + '\n```';
        cursorOffset = selected ? replacement.length : 4;
        break;
      case 'ul':
        if (selected) {
          replacement = selected.split('\n').map(function(l) { return '- ' + l; }).join('\n');
        } else {
          replacement = '- List item';
        }
        cursorOffset = replacement.length;
        break;
      case 'ol':
        if (selected) {
          replacement = selected.split('\n').map(function(l, idx) { return (idx + 1) + '. ' + l; }).join('\n');
        } else {
          replacement = '1. List item';
        }
        cursorOffset = replacement.length;
        break;
      case 'quote':
        if (selected) {
          replacement = selected.split('\n').map(function(l) { return '> ' + l; }).join('\n');
        } else {
          replacement = '> Quote';
        }
        cursorOffset = replacement.length;
        break;
      case 'table':
        replacement = '| Header 1 | Header 2 | Header 3 |\n| -------- | -------- | -------- |\n| Cell 1   | Cell 2   | Cell 3   |\n| Cell 4   | Cell 5   | Cell 6   |';
        cursorOffset = replacement.length;
        break;
      case 'hr':
        replacement = '\n---\n';
        cursorOffset = replacement.length;
        break;
    }

    editor.value = before + replacement + after;
    editor.focus();
    var newPos = start + cursorOffset;
    editor.selectionStart = newPos;
    editor.selectionEnd = newPos;
    scheduleRender();
  }

  // Expose to global scope for onclick handlers
  window.insertFormat = insertFormat;

  // ── Copy / Export ──
  function showToast(message) {
    toastEl.textContent = message;
    toastEl.classList.add('visible');
    setTimeout(function() { toastEl.classList.remove('visible'); }, 2200);
  }

  function copyMarkdown() {
    navigator.clipboard.writeText(editor.value).then(function() {
      showToast('Markdown copied to clipboard');
    }).catch(function() {
      fallbackCopy(editor.value);
      showToast('Markdown copied to clipboard');
    });
  }

  function copyHTML() {
    var html = parseMarkdown(editor.value);
    navigator.clipboard.writeText(html).then(function() {
      showToast('HTML copied to clipboard');
    }).catch(function() {
      fallbackCopy(html);
      showToast('HTML copied to clipboard');
    });
  }

  function fallbackCopy(text) {
    var ta = document.createElement('textarea');
    ta.value = text;
    ta.style.position = 'fixed';
    ta.style.opacity = '0';
    document.body.appendChild(ta);
    ta.select();
    try { document.execCommand('copy'); } catch(e) {}
    document.body.removeChild(ta);
  }

  function exportHTML() {
    var rendered = parseMarkdown(editor.value);
    var htmlDoc = '<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>Exported Markdown</title>\n<style>\nbody { font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif; max-width: 800px; margin: 40px auto; padding: 0 20px; line-height: 1.7; color: #1a1a2e; }\nh1, h2, h3, h4, h5, h6 { margin-top: 1.5em; margin-bottom: 0.5em; }\nh1 { border-bottom: 2px solid #e5e7eb; padding-bottom: 0.3em; }\nh2 { border-bottom: 1px solid #e5e7eb; padding-bottom: 0.2em; }\ncode { background: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 0.9em; }\npre { background: #f3f4f6; padding: 16px; border-radius: 8px; overflow-x: auto; }\npre code { background: none; padding: 0; }\nblockquote { border-left: 4px solid #7c3aed; padding: 8px 16px; margin: 1em 0; background: #f9f5ff; }\ntable { border-collapse: collapse; width: 100%; margin: 1em 0; }\nth, td { border: 1px solid #d1d5db; padding: 8px 12px; }\nth { background: #f3f4f6; }\nimg { max-width: 100%; }\nhr { border: none; height: 2px; background: #e5e7eb; margin: 2em 0; }\na { color: #7c3aed; }\n</style>\n</head>\n<body>\n' + rendered + '\n</body>\n</html>';

    var blob = new Blob([htmlDoc], { type: 'text/html' });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = 'markdown-export.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    showToast('HTML file downloaded');
  }

  window.copyMarkdown = copyMarkdown;
  window.copyHTML = copyHTML;
  window.exportHTML = exportHTML;

  // ── Fullscreen ──
  function toggleFullscreen() {
    document.body.classList.toggle('fullscreen');
    var isFS = document.body.classList.contains('fullscreen');
    document.getElementById('btnFullscreen').querySelector('span').textContent = isFS ? 'Exit FS' : 'Fullscreen';
  }

  window.toggleFullscreen = toggleFullscreen;

  // ── Resizer ──
  (function initResizer() {
    var isDragging = false;

    resizer.addEventListener('mousedown', function(e) {
      isDragging = true;
      resizer.classList.add('dragging');
      document.body.style.cursor = 'col-resize';
      document.body.style.userSelect = 'none';
      e.preventDefault();
    });

    document.addEventListener('mousemove', function(e) {
      if (!isDragging) return;
      var rect = editorWrap.getBoundingClientRect();
      var offset = e.clientX - rect.left;
      var totalWidth = rect.width;
      var pct = (offset / totalWidth) * 100;
      pct = Math.max(15, Math.min(85, pct));
      editorPane.style.flex = 'none';
      editorPane.style.width = pct + '%';
      previewPane.style.flex = 'none';
      previewPane.style.width = (100 - pct) + '%';
    });

    document.addEventListener('mouseup', function() {
      if (isDragging) {
        isDragging = false;
        resizer.classList.remove('dragging');
        document.body.style.cursor = '';
        document.body.style.userSelect = '';
      }
    });

    // Touch support
    resizer.addEventListener('touchstart', function(e) {
      isDragging = true;
      resizer.classList.add('dragging');
      e.preventDefault();
    }, { passive: false });

    document.addEventListener('touchmove', function(e) {
      if (!isDragging) return;
      var touch = e.touches[0];
      var rect = editorWrap.getBoundingClientRect();
      var offset = touch.clientX - rect.left;
      var totalWidth = rect.width;
      var pct = (offset / totalWidth) * 100;
      pct = Math.max(15, Math.min(85, pct));
      editorPane.style.flex = 'none';
      editorPane.style.width = pct + '%';
      previewPane.style.flex = 'none';
      previewPane.style.width = (100 - pct) + '%';
    }, { passive: true });

    document.addEventListener('touchend', function() {
      if (isDragging) {
        isDragging = false;
        resizer.classList.remove('dragging');
      }
    });
  })();

  // ── Scroll Sync ──
  (function initScrollSync() {
    var syncing = false;

    editor.addEventListener('scroll', function() {
      if (syncing) return;
      syncing = true;
      var pct = editor.scrollTop / (editor.scrollHeight - editor.clientHeight || 1);
      preview.scrollTop = pct * (preview.scrollHeight - preview.clientHeight || 1);
      requestAnimationFrame(function() { syncing = false; });
    });

    preview.addEventListener('scroll', function() {
      if (syncing) return;
      syncing = true;
      var pct = preview.scrollTop / (preview.scrollHeight - preview.clientHeight || 1);
      editor.scrollTop = pct * (editor.scrollHeight - editor.clientHeight || 1);
      requestAnimationFrame(function() { syncing = false; });
    });
  })();

  // ── Keyboard Shortcuts ──
  editor.addEventListener('keydown', function(e) {
    // Tab to insert spaces
    if (e.key === 'Tab') {
      e.preventDefault();
      var start = editor.selectionStart;
      var end = editor.selectionEnd;
      editor.value = editor.value.substring(0, start) + '  ' + editor.value.substring(end);
      editor.selectionStart = editor.selectionEnd = start + 2;
      scheduleRender();
      return;
    }

    if (e.ctrlKey || e.metaKey) {
      switch (e.key.toLowerCase()) {
        case 'b': e.preventDefault(); insertFormat('bold'); break;
        case 'i': e.preventDefault(); insertFormat('italic'); break;
        case 'k': e.preventDefault(); insertFormat('link'); break;
        case 'h': e.preventDefault(); insertFormat('heading'); break;
      }
    }
  });

  // ── FAQ Toggle ──
  function toggleFaq(el) {
    var item = el.parentElement;
    var isOpen = item.classList.contains('open');
    // Close all
    document.querySelectorAll('.faq-item').forEach(function(f) { f.classList.remove('open'); });
    if (!isOpen) item.classList.add('open');
    el.setAttribute('aria-expanded', !isOpen);
  }

  window.toggleFaq = toggleFaq;

  // ── Sample Content ──
  var sampleMarkdown = '# Welcome to the Markdown Editor\n\nThis is a **free, open-source** Markdown editor with *live preview*. Start typing on the left and see your formatted content appear on the right in real time.\n\n## Features\n\n- **Live Preview** \u2014 see rendered output as you type\n- **Formatting Toolbar** \u2014 quick buttons for common syntax\n- **Export & Copy** \u2014 download HTML or copy to clipboard\n- **Auto-Save** \u2014 your work is saved in your browser\n- **Resizable Panes** \u2014 drag the divider to adjust layout\n- **Scroll Sync** \u2014 editor and preview scroll together\n\n## Markdown Syntax Guide\n\n### Text Formatting\n\nYou can write **bold text**, *italic text*, ***bold and italic***, and ~~strikethrough~~.\n\nInline `code` looks like this.\n\n### Links & Images\n\n[Visit GitHub](https://github.com) to explore open source projects.\n\n![Placeholder Image](https://via.placeholder.com/600x200/7c3aed/ffffff?text=Markdown+Editor)\n\n### Blockquote\n\n> \"The best way to predict the future is to invent it.\"\n> \u2014 Alan Kay\n\n### Code Block\n\n```javascript\nfunction greet(name) {\n  return `Hello, ${name}!`;\n}\n\nconsole.log(greet("World"));\n```\n\n### Ordered List\n\n1. First item\n2. Second item\n3. Third item\n\n### Table\n\n| Feature       | Status    | Notes              |\n| ------------- |:---------:| ------------------:|\n| Headers       | Done      | h1 through h6      |\n| Bold/Italic   | Done      | **bold** & *italic*|\n| Tables        | Done      | With alignment     |\n| Code blocks   | Done      | Fenced & indented  |\n| Lists         | Done      | Ordered & unordered|\n\n---\n\n### Try It Yourself\n\nEdit this content or clear it to start fresh. Your changes are automatically saved to your browser. Use the toolbar above for quick formatting, or type Markdown syntax directly.\n\nHappy writing!\n';\n\n  // ── Initialize ──
  var saved = loadFromStorage();
  editor.value = saved !== null ? saved : sampleMarkdown;
  render();

  // Listen for input
  editor.addEventListener('input', scheduleRender);

})();
</script>
</body>
</html>